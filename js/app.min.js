;(function(){"use strict";var data=localStorage.getItem("form-autosave");var form=document.querySelector("form");function setValue(field,data){var name=field.getAttribute("name");if(!data[name])return;if(field.type==="checkbox"){field.checked=data[name]==="on"?true:false}else if(field.type==="radio"){field.checked=data[name]===field.value?true:false}else{field.value=data[name]}}function populateForm(data,form){if(!data)return;data=JSON.parse(data);var fields=Array.from(form.querySelectorAll("[data-save]"));fields.forEach((function(field){setValue(field,data)}))}function addToLocalStorageObject(name,key,value){var existing=localStorage.getItem(name);existing=existing?JSON.parse(existing):{};existing[key]=value;localStorage.setItem(name,JSON.stringify(existing))}function saveData(event){var fieldName=event.target.getAttribute("name");var value;if(!fieldName)return;if(event.target.type==="checkbox"){value=event.target.checked?"on":"off"}else{value=event.target.value}addToLocalStorageObject("form-autosave",fieldName,value)}function clearData(event){localStorage.removeItem("form-autosave")}populateForm(data,form);form.addEventListener("input",saveData,false);form.addEventListener("submit",clearData,false)})();