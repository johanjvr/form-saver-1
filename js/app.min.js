(function(d){"use strict";var data=localStorage.getItem("data");var form=d.querySelector("form");function populateForm(data){if(!data)return;data=JSON.parse(data);for(var field in data){document.querySelector("[name='"+field+"']").value=data[field]}}function addToLocalStorageObject(name,key,value){var existing=localStorage.getItem(name);existing=existing?JSON.parse(existing):{};existing[key]=value;localStorage.setItem(name,JSON.stringify(existing))}function saveData(event){var field=event.target;var fieldName=field.getAttribute("name");if(!fieldName)return;addToLocalStorageObject("data",fieldName,field.value)}function clearData(event){event.preventDefault();localStorage.removeItem("data");this.submit()}populateForm(data);form.addEventListener("input",saveData,false);form.addEventListener("submit",clearData,false)})(document);