(function(){"use strict";var data=localStorage.getItem("data");var form=document.querySelector("form");function populateForm(data){if(!data)return;data=JSON.parse(data);for(var field in data){document.querySelector("[name='"+field+"']").value=data[field]}}function addToLocalStorageObject(name,key,value){var existing=localStorage.getItem(name);existing=existing?JSON.parse(existing):{};existing[key]=value;localStorage.setItem(name,JSON.stringify(existing))}function saveData(event){var fieldName=event.target.getAttribute("name");if(!fieldName)return;addToLocalStorageObject("data",fieldName,event.target.value)}function clearData(event){localStorage.removeItem("data")}populateForm(data);form.addEventListener("input",saveData,false);form.addEventListener("submit",clearData,false)})();